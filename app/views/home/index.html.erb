<script type="text/javascript">
  ShopifyApp.ready(function(){
    ShopifyApp.Bar.initialize({
      title: "Home",
      icon: "<%= asset_path('faveicon.png') %>"
    });
  });
</script>
<h3>Options</h3>
<table>
  <tbody>


    <%= form_for @option do |o| %>
      
      <div class="well">
        <div class="form-group">

          <%= o.label :enable_app %>
          <%= o.check_box :enable_app, class: 'form-control' %>

          <!-- BEGIN Starting Time dynamic fields -->
          <% default_value = select_default(@option.starting_time, [180, 300, 600]) %>
          <%= o.label :starting_time %>

          <select class="form-control dynamic-send conditional-send" data-condition="starting_time" data-option="starting_time">
            <%= options_for_select(starting_time_options.map{ |i| [i[0], i[1], {'data-action'=>i[2]}] }, selected: default_value) %>
          </select>

          <% if default_value == '' %>
            <%= o.text_field :starting_time, class: 'dynamic-receive conditional-receive', data: {option: 'starting_time', condition: 'starting_time'} %>
          <% else %>
            <%= o.text_field :starting_time, class: 'dynamic-receive conditional-receive', data: {option: 'starting_time', condition: 'starting_time'}, style: "display:none;" %>
          <% end %>
          <!-- Starting Time dynamic fields END -->
          
          <%= o.label :timer_format %>
          <%= o.select_tag :timer_format, timer_format_options, class: 'form-control' %>

          <!-- BEGIN Product Rule dynamic fields -->
          <% default_value = select_default(@option.product_rule, ['none', 'reset']) %>
          <%= o.label :product_rule %>

          <select class="form-control dynamic-send conditional-send" data-condition="product_rule" data-option="product_rule">
            <%= options_for_select(product_rule_options.map{ |i| [i[0], i[1], {'data-action'=>i[2]}] }, selected: default_value) %>
          </select>

          <select class="form-control dynamic-send conditional-receive" data-condition="product_rule" data-option="product_rule">
            <%= options_for_select(product_rule_more_time_options, selected: @option.product_rule) %>
          </select>

          <%= o.hidden_field :product_rule, class: 'form-control dynamic-receive', data: {option: 'product_rule'} %>







          <!-- Product Rule dynamic fields END -->
        </div>
      </div>

      <div class="well">
        <div class="form-group">
          <%= o.label :float_enable %>
          <%= o.number_field :float_enable, class: 'form-control' %>

          <%= o.label :float_enable %>
          <%= o.number_field :float_enable, class: 'form-control' %>

          <%= o.label :header_color %>
          <input type="text" class="form-control color_picker_visable" value="<%= @option.header_color %>" data-index="1">
          <%= o.hidden_field :header_color, class: 'color_picker index-1' %>

          <%= o.label :header_font_size %>
          <%= o.number_field :header_font_size, class: 'form-control' %>
          
          <%= o.label :header_border_color %>
          <input type="text" class="form-control color_picker_visable" value="<%= @option.header_border_color %>" data-index="2">
          <%= o.hidden_field :header_border_color, class: 'form-control color_picker index-2' %>

          <%= o.label :header_background_color %>
          <input type="text" class="form-control color_picker_visable" value="<%= @option.header_background_color %>" data-index="3">
          <%= o.hidden_field :header_background_color, class: 'form-control color_picker index-3' %>

          <%= o.label :header_border_radius %>
          <%= o.number_field :header_border_radius, class: 'form-control' %>

          <%= o.label :header_padding %>
          <%= o.text_field :header_padding, class: 'form-control' %>

          <%= o.label :header_padding %>
          <%= o.text_field :header_padding, class: 'form-control' %>
        </div>
      </div>

      <div class="well">
        <div class="form-group">

          <%= o.label :quick_view_color %>
          <input type="text" class="form-control color_picker_visable" value="<%= @option.quick_view_color %>" data-index="4">
          <%= o.hidden_field :quick_view_color, class: 'color_picker index-4' %>

          <%= o.label :quick_view_font_size %>
          <%= o.number_field :quick_view_font_size, class: 'form-control' %>
          
          <%= o.label :quick_view_border_color %>
          <input type="text" class="form-control color_picker_visable" value="<%= @option.quick_view_border_color %>" data-index="5">
          <%= o.hidden_field :quick_view_border_color, class: 'form-control color_picker index-5' %>

          <%= o.label :quick_view_background_color %>
          <input type="text" class="gform-control color_picker_visable" value="<%= @option.quick_view_background_color %>" data-index="6">
          <%= o.hidden_field :quick_view_background_color, class: 'form-control color_picker index-6' %>

          <%= o.label :quick_view_border_radius %>
          <%= o.number_field :quick_view_border_radius, class: 'form-control' %>

          <%= o.label :quick_view_padding %>
          <%= o.text_field :quick_view_padding, class: 'form-control' %>

          <%= o.label :quick_view_margin %>
          <%= o.text_field :quick_view_margin, class: 'form-control' %>
        </div>
      </div>

      <div class="well">
        <div class="form-group">

          <%= o.label :message_color %>
          <input type="text" class="form-control color_picker_visable" value="<%= @option.message_color %>" data-index="7">
          <%= o.hidden_field :message_color, class: 'color_picker index-7' %>

          <%= o.label :message_font_size %>
          <%= o.number_field :message_font_size, class: 'form-control' %>
          
          <%= o.label :message_border_color %>
          <input type="text" class="form-control color_picker_visable" value="<%= @option.message_border_color %>" data-index="8">
          <%= o.hidden_field :message_border_color, class: 'form-control color_picker index-8' %>

          <%= o.label :message_background_color %>
          <input type="text" class="gform-control color_picker_visable" value="<%= @option.message_background_color %>" data-index="9">
          <%= o.hidden_field :message_background_color, class: 'form-control color_picker index-9' %>

          <%= o.label :message_border_radius %>
          <%= o.number_field :message_border_radius, class: 'form-control' %>

          <%= o.label :message_padding %>
          <%= o.text_field :message_padding, class: 'form-control' %>

          <%= o.label :message_margin %>
          <%= o.text_field :message_margin, class: 'form-control' %>
        </div>
      </div>

      <div class="well">
        <div class="form-group">

          <%= o.label :button_1_text %>
          <%= o.text_field :button_1_text, class: 'form-control' %>

          <%= o.label :button_1_color %>
          <input type="text" class="gform-control color_picker_visable" value="<%= @option.button_1_color %>" data-index="10">
          <%= o.hidden_field :button_1_color, class: 'form-control index-10' %>
          
          <%= o.label :button_1_font_size %>
          <%= o.number_field :button_1_font_size, class: 'form-control' %>

          <%= o.label :button_1_background_color %>
          <input type="text" class="gform-control color_picker_visable" value="<%= @option.button_1_background_color %>" data-index="11">
          <%= o.hidden_field :button_1_background_color, class: 'form-control color_picker index-11' %>

          <%= o.label :button_1_padding %>
          <%= o.text_field :button_1_padding, class: 'form-control' %>

          <%= o.label :button_1_border %>
          <input type="text" class="gform-control color_picker_visable" value="<%= @option.button_1_border %>" data-index="12">
          <%= o.hidden_field :button_1_border, class: 'form-control color_picker index-12' %>

          <%= o.label :button_1_border_radius %>
          <%= o.number_field :button_1_border_radius, class: 'form-control' %>
        </div>
      </div>

      <div class="well">
        <div class="form-group">

          <%= o.label :button_2_text %>
          <%= o.text_field :button_2_text, class: 'form-control' %>

          <%= o.label :button_2_color %>
          <input type="text" class="gform-control color_picker_visable" value="<%= @option.button_2_color %>" data-index="13">
          <%= o.hidden_field :button_2_color, class: 'form-control index-13' %>
          
          <%= o.label :button_2_font_size %>
          <%= o.number_field :button_2_font_size, class: 'form-control' %>

          <%= o.label :button_2_background_color %>
          <input type="text" class="gform-control color_picker_visable" value="<%= @option.button_2_background_color %>" data-index="14">
          <%= o.hidden_field :button_2_background_color, class: 'form-control color_picker index-14' %>

          <%= o.label :button_2_padding %>
          <%= o.text_field :button_2_padding, class: 'form-control' %>

          <%= o.label :button_2_border %>
          <input type="text" class="gform-control color_picker_visable" value="<%= @option.button_2_border %>" data-index="15">
          <%= o.hidden_field :button_2_border, class: 'form-control color_picker index-15' %>

          <%= o.label :button_2_border_radius %>
          <%= o.number_field :button_2_border_radius, class: 'form-control' %>
        </div>
      </div>

      <div class="form-group">
        <%= o.submit class: "btn btn-primary" %>
      </div>

    <% end %>

  </tbody>
</table>
